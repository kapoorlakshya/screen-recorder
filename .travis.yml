---
sudo: required
os:
  - linux
language: ruby
cache: bundler
branches:
  only:
    - 17_specs_on_travis
rvm:
  - 2.3.8
  - 2.4.5
  - 2.5.3
  - 2.6.1
env:
  - DISPLAY=":99"
addons:
  firefox: latest
  chrome: stable
before_install:
  - gem update --system
  - gem install bundler
  - bundle update
before_script:
  - sudo add-apt-repository -y ppa:mc3man/trusty-media
  - sudo apt-get update
  - sudo apt-get install -y ffmpeg
  - ffmpeg -hwaccels
  - sudo apt-get install wmctrl
script: xvfb-run --server-args=":99 -ac -screen 0 1024x768x24" rake spec